# Auto Volume Rider для REAPER

Автоматический регулятор громкости с поддержкой различных методов измерения уровня сигнала.

## Установка

1. Скопируйте файл `Auto_Volume_Rider.jsfx` в папку с эффектами REAPER:
   - Windows: `%APPDATA%\REAPER\Effects\`
   - macOS: `~/Library/Application Support/REAPER/Effects/`
   - Linux: `~/.config/REAPER/Effects/`

2. Перезапустите REAPER или обновите список плагинов через меню `Actions > Refresh plugins`

3. Плагин появится в списке эффектов в категории "JS Effects"

## Использование

### Параметры

- **Input Gain** (-24 до +24 дБ): Предварительное усиление входного сигнала
- **Mode**: Режим измерения уровня:
  - **Peak**: Пиковый уровень
  - **LUFS Short**: LUFS с коротким окном (400ms)
  - **LUFS Momentary**: LUFS с длинным окном (3 секунды)
  - **RMS**: Среднеквадратичное значение
- **Lookahead** (0 до 5 сек): Время опережения для более точной обработки
- **Attack** (0.1 до 1000 мс): Скорость реакции на повышение уровня
- **Release** (1 до 5000 мс): Скорость реакции на понижение уровня
- **Target Range Min** (-60 до 0 дБ): Нижняя граница целевого "окна" громкости
- **Target Range Max** (-60 до 0 дБ): Верхняя граница целевого "окна" громкости
- **Output Gain** (-24 до +24 дБ): Финальное усиление на выходе плагина
- **Limiter Enable** (Off/On): Включение/выключение лимитера
- **Limiter Mode** (Peak/True Peak): Режим работы лимитера

### Рекомендации по использованию

1. **Для вокала**: Используйте режим RMS или LUFS Short с lookahead 0.1-0.5 сек, Attack 10-50мс, Release 100-500мс
2. **Для инструментов**: Peak режим хорошо подходит для ударных, RMS для мелодических инструментов
3. **Для мастеринга**: LUFS Momentary для соответствия стандартам вещания
4. **Настройка "окна"**: Target Range Min/Max создают целевое "окно" громкости. Плагин автоматически подтягивает весь сигнал к центру этого окна
5. **Attack/Release**: Более быстрый Attack (меньше мс) = более агрессивная обработка, медленный Release = более плавные переходы
6. **Лимитер**: Включайте True Peak для предотвращения межсемпловых пиков, особенно при мастеринге

### Графический интерфейс

Плагин включает современный графический интерфейс с:

**Информационная панель:**
- Текущий режим измерения
- Целевое "окно" громкости (Target Range)
- Текущее усиление
- Статус лимитера

**Два вертикальных индикатора в центре:**
- **Белый индикатор**: Входной уровень (после Input Gain)
- **Зеленый индикатор**: Обработанный уровень (после volume riding, до Output Gain)

**Цветная разметка:**
- **Желтые линии**: Границы целевого "окна" (Target Range Min/Max)
- **Красная линия**: Центр целевого "окна" (куда стремится сигнал)
- **Шкала dB**: От -60 до 0 дБ с основными отметками

**Числовые значения:**
- Точные значения входного и обработанного уровней в dB

## Принцип работы

Плагин работает по принципу **"умного окна громкости"**:

1. **Анализ входного сигнала**: Измеряет уровень входного сигнала в выбранном режиме (Peak, LUFS, RMS)
2. **Создание целевого "окна"**: Target Range Min/Max определяют диапазон желаемой громкости
3. **Автоматическое позиционирование**: Плагин автоматически подтягивает весь сигнал к **центру** целевого "окна"
   - Тихие части → усиливаются
   - Громкие части → приглушаются
   - Результат → сигнал стабилизируется в центре заданного диапазона
4. **Сглаживание**: Attack/Release обеспечивают плавные переходы
5. **Lookahead**: Буфер опережения предотвращает артефакты
6. **Финальная обработка**: 
   - Output Gain → ручная регулировка финальной громкости
   - True Peak Limiter → защита от клиппинга и межсемпловых пиков

**Результат**: Консистентная, стабильная громкость с сохранением динамики и музыкальности.

### Дополнительные возможности

- **Автоматическая стабилизация**: При смене режимов измерения плагин плавно переходит без скачков громкости
- **Интеллектуальный сброс**: При остановке воспроизведения или тишине плагин автоматически возвращается к нейтральному состоянию
- **Защита от клиппинга**: True Peak лимитер предотвращает межсемпловые пики
- **Нейтральные настройки**: Дефолтные параметры практически не влияют на исходный сигнал

## Совместимость

- REAPER 6.0+
- Работает с любой частотой дискретизации
- Поддерживает стерео обработку
- Низкая задержка и эффективное использование CPU
- Включает True Peak Limiter для профессионального мастеринга
- Совместим с автоматизацией параметров REAPER

## Примеры использования

**Подкаст/Вокал:**
- Target Range: -30 до -18 дБ
- Mode: RMS
- Attack: 20мс, Release: 300мс
- Lookahead: 0.2сек

**Музыкальный микс:**
- Target Range: -24 до -12 дБ  
- Mode: LUFS Short
- Attack: 50мс, Release: 500мс
- Lookahead: 0.1сек

**Мастеринг:**
- Target Range: -23 до -16 дБ
- Mode: LUFS Momentary
- Attack: 100мс, Release: 1000мс
- Lookahead: 0.5сек
- Limiter: True Peak включен

**Настройки "из коробки" (дефолт):**
- Target Range: -55 до -5 дБ (широкий диапазон, минимальное влияние)
- Mode: Peak
- Attack: 10мс, Release: 100мс
- Lookahead: 0.1сек
- Output Gain: 0дБ
- Limiter: Включен (True Peak)
