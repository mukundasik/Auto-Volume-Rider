# Auto Volume Rider для REAPER

Автоматический регулятор громкости с поддержкой различных методов измерения уровня сигнала.

## Установка

1. Скопируйте файл `Auto_Volume_Rider.jsfx` в папку с эффектами REAPER:
   - Windows: `%APPDATA%\REAPER\Effects\`
   - macOS: `~/Library/Application Support/REAPER/Effects/`
   - Linux: `~/.config/REAPER/Effects/`

2. Перезапустите REAPER или обновите список плагинов через меню `Actions > Refresh plugins`

3. Плагин появится в списке эффектов в категории "JS Effects"

## Использование

### Параметры

- **Input Gain** (-24 до +24 дБ): Предварительное усиление входного сигнала
- **Mode**: Режим измерения уровня:
  - **Peak**: Пиковый уровень
  - **LUFS Short**: LUFS с коротким окном (400ms)
  - **LUFS Momentary**: LUFS с длинным окном (3 секунды)
  - **RMS**: Среднеквадратичное значение
- **Range Minimum** (-60 до 0 дБ): Нижняя граница для входного сигнала (сигнал тише будет подтянут до этого уровня)
- **Range Maximum** (-60 до 0 дБ): Верхняя граница для входного сигнала (сигнал громче будет опущен до этого уровня)
- **Target Output Volume** (-60 до 0 дБ): Целевая выходная громкость
- **Lookahead** (0 до 5 сек): Время опережения для более точной обработки
- **Attack** (0.1 до 1000 мс): Скорость реакции на повышение уровня
- **Release** (1 до 5000 мс): Скорость реакции на понижение уровня

### Рекомендации по использованию

1. **Для вокала**: Используйте режим RMS или LUFS Short с lookahead 0.1-0.5 сек, Attack 10-50мс, Release 100-500мс
2. **Для инструментов**: Peak режим хорошо подходит для ударных, RMS для мелодических инструментов
3. **Для мастеринга**: LUFS Momentary для соответствия стандартам вещания
4. **Настройка диапазона**: Range Min/Max работают как компрессор/экспандер - подтягивают тихие части и опускают громкие
5. **Attack/Release**: Более быстрый Attack (меньше мс) = более агрессивная обработка, медленный Release = более плавные переходы

### Графический интерфейс

Плагин включает простой графический интерфейс, показывающий:
- Текущий входной уровень
- Обработанный уровень (после применения Range Min/Max)
- Применяемое усиление
- Целевой уровень
- Диапазон Range Min/Max
- Два визуальных индикатора: входной уровень (зеленый) и обработанный уровень (синий)
- Цветные отметки: красная (Target), желтые (Range Min/Max)

## Принцип работы

Плагин работает в несколько этапов:

1. **Анализ входного сигнала**: Измеряет уровень входного сигнала в выбранном режиме (Peak, LUFS, RMS)
2. **Применение Range границ**: 
   - Если входной уровень < Range Minimum → подтягивает до Range Minimum
   - Если входной уровень > Range Maximum → опускает до Range Maximum
3. **Приведение к целевому уровню**: Регулирует обработанный сигнал до Target Output Volume
4. **Сглаживание**: Применяет Attack/Release для естественного звучания
5. **Lookahead**: Использует буфер опережения для предотвращения артефактов

Это позволяет создать интеллектуальный компрессор/экспандер с автоматической регулировкой громкости.

## Совместимость

- REAPER 6.0+
- Работает с любой частотой дискретизации
- Поддерживает стерео обработку
- Низкая задержка и эффективное использование CPU
