# AutoGain Professional - Документация

## Описание

AutoGain Professional - это продвинутый JSFX плагин для автоматической регулировки громкости с анализом LUFS и встроенным лимитером. Плагин анализирует входной сигнал в реальном времени и автоматически регулирует громкость для поддержания заданного целевого диапазона.

## Основные возможности

### Анализ сигнала
- **Peak Analysis** - анализ пиковых значений
- **RMS Analysis** - анализ среднеквадратичного значения
- **LUFS-S Analysis** - анализ кратковременной громкости (Short-term Loudness)
- **LUFS-M Analysis** - анализ мгновенной громкости (Momentary Loudness)

### Автоматическая регулировка громкости
- Настраиваемый целевой диапазон (Target Min/Max)
- Скользящее среднее с регулируемой степенью сглаживания
- Параметры атаки и релиза для плавного изменения громкости
- Режим Lookahead для предварительного анализа

### Лимитер
- Недисторшновый лимитер с настраиваемым порогом
- Режим True Peak для предотвращения интерсэмпл-клиппинга
- Настраиваемое время релиза
- Визуальная индикация работы лимитера

## Параметры плагина

### Основные параметры
1. **Bypass** (0=Off, 1=On) - включение/выключение AutoGain
2. **Target Min** (-60...0 dB) - минимальная целевая громкость
3. **Target Max** (-30...0 dB) - максимальная целевая громкость
4. **Moving Average Smoothing** (0.01...1) - степень сглаживания скользящего среднего

### Усиление
5. **Input Gain** (-20...20 dB) - входное усиление
6. **Output Gain** (-20...20 dB) - выходное усиление

### Лимитер
7. **Limiter Enable** (0=Off, 1=On) - включение/выключение лимитера
8. **Limiter Threshold** (-20...0 dB) - порог срабатывания лимитера
9. **True Peak Mode** (0=Off, 1=On) - режим True Peak
10. **Limiter Release** (0.01...1 s) - время релиза лимитера

### Анализ
11. **Analysis Mode** (0=Peak, 1=RMS, 2=LUFS-S, 3=LUFS-M) - режим анализа
12. **Lookahead Mode** (0=Off, 1=On) - режим предварительного анализа

### Временные параметры
13. **Attack Time** (0.001...0.1 s) - время атаки
14. **Release Time** (0.01...2 s) - время релиза

## Рекомендации по использованию

### Настройка целевого диапазона
- **Для музыки**: Target Min: -30 dB, Target Max: -10 dB
- **Для речи**: Target Min: -25 dB, Target Max: -15 dB
- **Для подкастов**: Target Min: -20 dB, Target Max: -10 dB

### Настройка сглаживания
- **Быстрая реакция**: Smoothing = 0.1-0.3
- **Средняя реакция**: Smoothing = 0.3-0.7
- **Медленная реакция**: Smoothing = 0.7-1.0

### Настройка лимитера
- **Порог**: -1 dB для предотвращения клиппинга
- **True Peak**: включить для максимальной защиты
- **Release**: 0.1-0.3 секунды для естественного звучания

### Временные параметры
- **Attack**: 0.001-0.01 секунды для быстрой реакции
- **Release**: 0.1-0.5 секунды для плавного изменения

## Визуализация

Плагин включает встроенную визуализацию, которая отображает:

- Текущие значения Peak, RMS, LUFS-S, LUFS-M
- Скользящее среднее выбранной метрики
- Целевой диапазон громкости
- Применяемое усиление
- Статус лимитера и True Peak
- График уровня с целевым диапазоном
- Параметры сглаживания и временные характеристики

## Технические особенности

### Алгоритм LUFS
Плагин использует упрощенную реализацию LUFS (Loudness Units relative to Full Scale). В профессиональных приложениях рекомендуется использовать специализированные LUFS-метры для точного измерения.

### True Peak Detection
Реализован через oversampling для более точного определения пиковых значений между сэмплами.

### Lookahead Processing
Предварительный анализ сигнала для более точной регулировки громкости без артефактов.

## Совместимость

- **DAW**: REAPER, Cockos REAPER
- **Формат**: JSFX
- **Частота дискретизации**: 44.1 kHz - 192 kHz
- **Битность**: 16, 24, 32 bit

## Установка

1. Скопируйте файл `.jsfx` в папку Effects/JSFX вашего REAPER
2. Перезапустите REAPER
3. Найдите плагин в списке JSFX эффектов

## Версии

### AutoGain_Advanced.jsfx (v1.0)
- Базовая функциональность
- Простой интерфейс
- Основные параметры

### AutoGain_Professional.jsfx (v2.0)
- Расширенная функциональность
- Улучшенный интерфейс
- Дополнительные параметры
- Lookahead режим
- Улучшенная визуализация

## Поддержка

При возникновении проблем или предложений по улучшению, пожалуйста, создайте issue в репозитории проекта.

## Лицензия

Этот плагин распространяется под лицензией MIT. Используйте на свой страх и риск.